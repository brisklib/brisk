if (TARGET Dawn)
    return()
endif ()

add_library(Dawn STATIC IMPORTED)

set(DAWN_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/${VCPKG_TARGET_TRIPLET}/include" CACHE INTERNAL "")

find_library(WEBGPU_DAWN_DEBUG NAMES webgpu_dawn_static PATHS "${VCPKG_INSTALLED_DIR}/${VCPKG_TARGET_TRIPLET}/debug/lib/" NO_DEFAULT_PATH)
find_library(WEBGPU_DAWN_RELEASE NAMES webgpu_dawn_static PATHS "${VCPKG_INSTALLED_DIR}/${VCPKG_TARGET_TRIPLET}/lib/" NO_DEFAULT_PATH)

set_target_properties(Dawn PROPERTIES
    IMPORTED_LOCATION_DEBUG ${WEBGPU_DAWN_DEBUG}
    IMPORTED_LOCATION_RELEASE ${WEBGPU_DAWN_RELEASE}
    INTERFACE_INCLUDE_DIRECTORIES "${DAWN_INCLUDE_DIR}"
    IMPORTED_CONFIGURATIONS "DEBUG;RELEASE"
)
